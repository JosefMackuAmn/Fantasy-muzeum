const ready=e=>{"loading"!==document.readyState?e():document.addEventListener?document.addEventListener("DOMContentLoaded",e):document.attachEvent("onreadystatechange",(function(){"complete"===document.readyState&&e()}))},GALLERY_LAST_PHOTO_CLASS=".gallery__photo--9",GALLERY_FIRST_PHOTO_SECOND_SECTION_CLASS=".gallery__photo--7";let maxPositionTop;const setMaxPositionTop=e=>{const t=window.innerHeight/100;prevVH||(prevVH=t);let o=e.style.top.slice(0,-2);o||(o=0);const n=document.querySelector(".gallery__photo--9").getBoundingClientRect().top;maxPositionTop=(n+-o-50*t).toFixed(2)},moveGallery=(e,t,o,n,s)=>{let i;i=e.isSynthetic?e.deltaY:e.deltaY>0?100:-100;const l=document.getElementsByTagName("html")[0];let a=window.getComputedStyle(l,null).getPropertyValue("font-size");a=+a.slice(0,-2);const r=window.innerWidth/100;prevVW||(prevVW=r);const c=window.innerHeight/100;prevVH||(prevVH=c);let d=15*i*r/(40*c+10*a),p=t.style.top.slice(0,-2),m=t.style.right.slice(0,-2);p&&m||(p=0,m=0);const v=n.offsetHeight,y=s.offsetHeight;let g=p-i,u=m-d;g>0||u>0?(g=0,u=0):-g>+maxPositionTop&&(g=-maxPositionTop,u=15*g*r/(40*c+10*a));const h=(v-y)*(g/-maxPositionTop);s.style.top=h+"px",t.style.top=g+"px",t.style.right=u+"px",updateActiveClass(o,p,c)},updateActiveClass=(e,t,o)=>{document.querySelector(".gallery__photo--7").getBoundingClientRect().top<-t-50*o?(e[0].classList.remove("active"),e[1].classList.add("active")):(e[0].classList.add("active"),e[1].classList.remove("active"))},moveGalleryTo=(e,t,o,n,s)=>{const i=document.getElementsByTagName("html")[0];let l=window.getComputedStyle(i,null).getPropertyValue("font-size");l=+l.slice(0,-2);const a=window.innerWidth/100;prevVW||(prevVW=a);const r=window.innerHeight/100;prevVH||(prevVH=r);let c=t.style.top.slice(0,-2);c||(c="0");const d=document.querySelector(".gallery__photo--7").getBoundingClientRect().top;switch(e){case"first":t.style.top="0px",t.style.right="0px",o[0].classList.add("active"),o[1].classList.remove("active"),s.style.top="0px";break;case"second":const e=-(d+-c-50*r),i=15*e*a/(40*r+10*l);t.style.top=e+"px",t.style.right=i+"px",o[0].classList.remove("active"),o[1].classList.add("active");const p=(n.offsetHeight-s.offsetHeight)*(e/-maxPositionTop);s.style.top=p+"px"}};let prevScreenY=0;const moveGalleryWithScrollbar=(e,t,o,n)=>{const s=s=>{let i=s.movementY;i||(i=prevScreenY?s.screenY-prevScreenY:0,prevScreenY=s.screenY);const l=+o.offsetHeight,a=+n.offsetHeight;moveGallery({deltaY:+i/(l-a)*maxPositionTop,isSynthetic:!0},e,t,o,n)},i=()=>{window.removeEventListener("mousemove",s),n.style.transition="all .2s",e.style.transition="all .2s",window.removeEventListener("mouseup",i),prevScreenY=0};n.style.transition="none",e.style.transition="none",window.addEventListener("mousemove",s),window.addEventListener("mouseup",i)};let prevVW,prevVH;const resizeGallery=(e,t,o,n)=>{o[0].classList.add("active"),o[1].classList.remove("active"),t.style.right="0px",t.style.top="0px",t.style.width="100%",t.style.height="100%",n.style.top="0px"},hasOneOfParentsClass=(e,t)=>{const o=e.parentElement;return!!o&&(!!o.classList.contains(t)||!!o.parentElement&&hasOneOfParentsClass(o,t))};ready(()=>{const e=document.getElementById("menu-btn"),t=document.getElementById("navigation-list");e.addEventListener("click",()=>{t.classList.toggle("opened")}),window.addEventListener("resize",()=>{t.classList.remove("opened")}),document.addEventListener("click",e=>{hasOneOfParentsClass(e.target,"navigation")||t.classList.remove("opened")});const o=document.getElementById("movable-head");o&&window.addEventListener("scroll",()=>{if(o){let e=window.pageYOffset/100*1.2-15;o.style.left=2*e+"rem",o.style.top=-(e/2-15)+"rem"}});const n=document.getElementById("gallery-photos");if(n){const e=document.querySelector(".gallery__list").getElementsByTagName("li"),t=document.getElementById("scrollbar"),o=document.getElementById("thumb");o.addEventListener("mousedown",s=>{s.preventDefault(),moveGalleryWithScrollbar(n,e,t,o)}),e[0].addEventListener("click",()=>{moveGalleryTo("first",n,e,t,o)}),e[1].addEventListener("click",()=>{moveGalleryTo("second",n,e,t,o)}),setMaxPositionTop(n),window.addEventListener("wheel",s=>{moveGallery(s,n,e,t,o)}),window.addEventListener("resize",t=>{n.style.transition="none",resizeGallery(0,n,e,o),setMaxPositionTop(n),n.style.transition="all .2s"})}}),navigator&&serviceWorker in navigator&&navigator.serviceWorker.getRegistrations().then(e=>{for(let t of e)t.unregister()});